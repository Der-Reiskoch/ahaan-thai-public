import{c as O,S as B,i as P,s as E,a as q,e as C,d as F,j as I,n as y,o as z,f as g,b as G,k as H,y as u,z as f,B as _,F as D,r as M,u as T,A as j,C as S,G as J}from"./khao-ui-chunk-index-v1.8.4.js";import{B as K}from"./khao-ui-button-v1.8.4.js";import{i as N}from"./khao-ui-chunk-StringBoolean-v1.8.4.js";import"./khao-ui-chunk-ButtonSize-v1.8.4.js";import"./khao-ui-icon-v1.8.4.js";const Q=(s,e)=>{const n=r=>{r.forEach(i=>{i.isIntersecting&&e&&e()})},t={root:document,rootMargin:"0px 0px 100px 0px",threshold:1};new IntersectionObserver(n,t).observe(s)},v=["1"],R=(s,e,n)=>{const t=document.location.href;let o="1",r="2",i=`${t}${e}${r}`;if(t.includes(e)){const l=t.split(e);l.length===2&&(o=l[1].replace("/",""),r=`${parseInt(o,10)+1}`,i=t.replace(`/${o}`,`/${r}`))}v.indexOf(r)===-1?(fetch(i).then(l=>{if(!l.ok)throw new Error(`error loading next page ${i} , perhaps we have reached the end!`);return l.text()}).then(l=>{const h=document.querySelector(`${s}:last-of-type`);var b=document.createElement("template");b.innerHTML=l,b.content.querySelectorAll(s).forEach(m=>{var c;(c=h==null?void 0:h.parentElement)==null||c.appendChild(m)}),n!==void 0&&n(),history.pushState({},"",i)}).catch(l=>{console.log(l)}),v.push(r)):console.log("already added",r)};function V(s){q(s,"svelte-wcxk2y",":host{--khao-spinner-color:var(--khao-sys-color-neutral30);--khao-spinner-size:var(--khao-sys-size-regular-10)}.spinner.svelte-wcxk2y{width:var(--khao-spinner-size);height:var(--khao-spinner-size);border:5px solid var(--khao-spinner-color);border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:svelte-wcxk2y-rotation 1s linear infinite}@keyframes svelte-wcxk2y-rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function W(s){let e;return{c(){e=C("div"),F(e,"class","spinner svelte-wcxk2y")},m(n,t){I(n,e,t)},p:y,i:y,o:y,d(n){n&&z(e)}}}class A extends B{constructor(e){super(),P(this,e,null,W,E,{},V)}}customElements.define("khao-spinner",O(A,{},[],[],!0));function X(s){q(s,"svelte-14hyps5",".infinite-scroll.svelte-14hyps5{display:flex;justify-content:space-around;width:100%;height:2rem}")}function x(s){let e,n;return e=new K({props:{label:s[0],onClick:s[4]}}),{c(){M(e.$$.fragment)},m(t,o){T(e,t,o),n=!0},p(t,o){const r={};o&1&&(r.label=t[0]),e.$set(r)},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){f(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function L(s){let e,n;return e=new A({}),{c(){M(e.$$.fragment)},m(t,o){T(e,t,o),n=!0},i(t){n||(u(e.$$.fragment,t),n=!0)},o(t){f(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Y(s){let e,n,t,o=s[1]&&x(s),r=s[2]&&L();return{c(){e=C("div"),o&&o.c(),n=G(),r&&r.c(),F(e,"class","infinite-scroll svelte-14hyps5")},m(i,l){I(i,e,l),o&&o.m(e,null),H(e,n),r&&r.m(e,null),s[9](e),t=!0},p(i,[l]){i[1]?o?(o.p(i,l),l&2&&u(o,1)):(o=x(i),o.c(),u(o,1),o.m(e,n)):o&&(S(),f(o,1,1,()=>{o=null}),_()),i[2]?r?l&4&&u(r,1):(r=L(),r.c(),u(r,1),r.m(e,null)):r&&(S(),f(r,1,1,()=>{r=null}),_())},i(i){t||(u(o),u(r),t=!0)},o(i){f(o),f(r),t=!1},d(i){i&&z(e),o&&o.d(),r&&r.d(),s[9](null)}}}function Z(s,e,n){let t=!1,o=!1,r=1;const i=new CustomEvent("khao-infinite-scroll-loaded-more",{bubbles:!0}),l=()=>{r<parseInt(p,10)&&n(1,t=!0)},h=()=>{R(m,c,b),n(1,t=!1),n(2,o=!0),r++},b=()=>{n(1,t=!1),n(2,o=!1),window.dispatchEvent(i)};let d;D(()=>{N(w)&&n(1,t=!0),Q(d,l)});let{querySelector:m}=e,{paginationSlug:c}=e,{buttonLabel:k}=e,{numberOfPages:p="1"}=e,{showButtonOnFirstLoad:w="true"}=e;function U(a){J[a?"unshift":"push"](()=>{d=a,n(3,d)})}return s.$$set=a=>{"querySelector"in a&&n(5,m=a.querySelector),"paginationSlug"in a&&n(6,c=a.paginationSlug),"buttonLabel"in a&&n(0,k=a.buttonLabel),"numberOfPages"in a&&n(7,p=a.numberOfPages),"showButtonOnFirstLoad"in a&&n(8,w=a.showButtonOnFirstLoad)},[k,t,o,d,h,m,c,p,w,U]}class $ extends B{constructor(e){super(),P(this,e,Z,Y,E,{querySelector:5,paginationSlug:6,buttonLabel:0,numberOfPages:7,showButtonOnFirstLoad:8},X)}get querySelector(){return this.$$.ctx[5]}set querySelector(e){this.$$set({querySelector:e}),g()}get paginationSlug(){return this.$$.ctx[6]}set paginationSlug(e){this.$$set({paginationSlug:e}),g()}get buttonLabel(){return this.$$.ctx[0]}set buttonLabel(e){this.$$set({buttonLabel:e}),g()}get numberOfPages(){return this.$$.ctx[7]}set numberOfPages(e){this.$$set({numberOfPages:e}),g()}get showButtonOnFirstLoad(){return this.$$.ctx[8]}set showButtonOnFirstLoad(e){this.$$set({showButtonOnFirstLoad:e}),g()}}customElements.define("khao-infinite-scroll",O($,{querySelector:{},paginationSlug:{},buttonLabel:{},numberOfPages:{},showButtonOnFirstLoad:{}},[],[],!0));
